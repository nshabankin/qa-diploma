# План автоматизации

## Перечень автоматизируемых сценариев

### Блок 1: Покупка тура

#### Часть 1: Позитивные сценарии
- **1.1.1** Успешная покупка тура по дебетовой карте
- **1.1.2** Успешная покупка тура в кредит по данным карты

#### Часть 2: Негативные сценарии
- **1.2.1** Покупка тура с отрицательным балансом на карте
- **1.2.2** Покупка тура с заблокированной картой
- **1.2.3** Покупка тура при превышении лимита кредитной карты
- **1.2.4** Покупка тура при недоступности банковского сервиса (Payment Gate или Credit Gate)

### Блок 2: Проверка правильности заполнения полей (Дебетовая карта и Кредит)

#### Часть 1: Дебетовая карта
- **Поле "Номер карты"**:
  - **2.1.1** Успешное заполнение поля "Номер карты" валидными данными (Позитивный)
  - **2.1.2** Заполнение поля "Номер карты" невалидным значением (Негативный)
  - **2.1.3** Пустое поле "Номер карты" (Негативный)
- **Поле "Месяц"**:
  - **2.1.4** Успешное заполнение поля "Месяц" валидными данными (Позитивный)
  - **2.1.5** Заполнение поля "Месяц" невалидным значением (Негативный)
  - **2.1.6** Пустое поле "Месяц" (Негативный)
- **Поле "Год"**:
  - **2.1.7** Успешное заполнение поля "Год" валидными данными (Позитивный)
  - **2.1.8** Заполнение поля "Год" невалидным значением (Негативный)
  - **2.1.9** Пустое поле "Год" (Негативный)
- **Поле "Владелец"**:
  - **2.1.10** Успешное заполнение поля "Владелец" валидными данными (латиница) (Позитивный)
  - **2.1.11** Заполнение поля "Владелец" невалидными символами (Негативный)
  - **2.1.12** Пустое поле "Владелец" (Негативный)
- **Поле "CVC/CVV"**:
  - **2.1.13** Успешное заполнение поля "CVV" валидными данными (Позитивный)
  - **2.1.14** Заполнение поля "CVV" невалидным значением (Негативный)
  - **2.1.15** Пустое поле "CVV" (Негативный)

#### Часть 2: Покупка в кредит
- **Поле "Номер карты"**:
  - **2.2.1** Успешное заполнение поля "Номер карты" для кредита валидными данными (Позитивный)
  - **2.2.2** Заполнение поля "Номер карты" для кредита невалидным значением (Негативный)
  - **2.2.3** Пустое поле "Номер карты" для кредита (Негативный)
- **Поле "Месяц"**:
  - **2.2.4** Успешное заполнение поля "Месяц" для кредита валидными данными (Позитивный)
  - **2.2.5** Заполнение поля "Месяц" для кредита невалидным значением (Негативный)
  - **2.2.6** Пустое поле "Месяц" для кредита (Негативный)
- **Поле "Год"**:
  - **2.2.7** Успешное заполнение поля "Год" для кредита валидными данными (Позитивный)
  - **2.2.8** Заполнение поля "Год" для кредита невалидным значением (Негативный)
  - **2.2.9** Пустое поле "Год" для кредита (Негативный)
- **Поле "Владелец"**:
  - **2.2.10** Успешное заполнение поля "Владелец" для кредита валидными данными (латиница) (Позитивный)
  - **2.2.11** Заполнение поля "Владелец" для кредита невалидными символами (Негативный)
  - **2.2.12** Пустое поле "Владелец" для кредита (Негативный)
- **Поле "CVC/CVV"**:
  - **2.2.13** Успешное заполнение поля "CVV" для кредита валидными данными (Позитивный)
  - **2.2.14** Заполнение поля "CVV" для кредита невалидным значением (Негативный)
  - **2.2.15** Пустое поле "CVV" для кредита (Негативный)

### Блок 3: Валидация и сообщения об ошибках

#### Часть 1: Позитивные сценарии
- **3.1.1** Корректное отображение сообщения об успешной оплате на странице подтверждения
- **3.1.2** Корректное отображение сообщения о неудачной оплате на странице подтверждения

### Блок 4: Навигация и интерфейс

#### Часть 1: Позитивные сценарии
- **4.1.1** Успешное отображение страницы покупки тура
- **4.1.2** Успешное переключение между способами оплаты (дебетовая карта / кредит)

### Блок 5: Отображение информации

#### Часть 1: Позитивные сценарии
- **5.1.1** Корректное отображение цены тура на странице покупки
- **5.1.2** Корректное отображение доступных способов оплаты
- **5.1.3** Корректное отображение валюты и суммы платежа в форме оплаты

### Блок 6: Запросы к базе данных

#### Часть 1: Позитивные сценарии
- **6.1.1** Проверка корректного сохранения информации о платеже в БД после успешной оплаты (Позитивный)
- **6.1.2** Проверка корректного сохранения информации о неудачной оплате в БД (Негативный)

## Перечень используемых инструментов с обоснованием выбора

- **Gradle**: Используется для управления зависимостями и сборки проекта. Он предоставляет гибкость и удобство в настройке сборки и интеграции с другими инструментами.
- **JUnit**: Основной фреймворк для написания и выполнения тестов на Java. Обеспечивает простоту и удобство в создании тестов.
- **Selenide**: Инструмент для автоматизации UI-тестирования на Java. Упрощает написание тестов для веб-интерфейсов благодаря встроенным методам для работы с элементами страницы.
- **mysql-connector**: Библиотека для подключения и работы с базой данных MySQL.
- **PostgreSQL JDBC Driver**: Библиотека для подключения и работы с базой данных PostgreSQL.
- **dbutils**: Утилита для удобной работы с базами данных и обработки результатов запросов.
- **Allure**: Система отчетности, которая генерирует подробные отчеты по результатам тестирования, обеспечивая визуализацию и анализ тестов.
- **ReportPortal**: Платформа для управления отчетами по тестированию в реальном времени, поддерживающая интеграцию с различными инструментами тестирования и отчетности.
- **GitHub Actions**: Для организации процесса CI/CD.

## Перечень и описание возможных рисков при автоматизации

1. **Нестабильность UI**: Изменения в дизайне или функционале интерфейса могут вызвать сбои в тестах. 
   - **Риск**: Тесты могут стать неактуальными или неработоспособными.
   - **Меры**: Регулярное обновление тестов в соответствии с изменениями в интерфейсе.

2. **Проблемы с доступностью банковских сервисов**: Эмулятор банковских сервисов может быть недоступен или работать неправильно.
   - **Риск**: Тесты могут не выполняться или результаты могут быть некорректными.
   - **Меры**: Провести предварительное тестирование эмулятора и предусмотреть fallback-режимы.

3. **Ошибки в конфигурации баз данных**: Неправильная конфигурация соединения с MySQL или PostgreSQL может помешать выполнению тестов.
   - **Риск**: Ошибки при подключении или выполнении запросов.
   - **Меры**: Проверка и тестирование конфигураций перед началом автоматизации.

4. **Неоптимальная производительность тестов**: Тесты могут работать медленно из-за большого объема данных или большого количества проверок.
   - **Риск**: Увеличение времени выполнения тестов и замедление процесса CI/CD.
   - **Меры**: Оптимизация тестов и использование параллельного выполнения.

## Интервальная оценка с учётом рисков в часах

1. **Планирование автоматизации**: 8 часов
   - Определение сценариев и инструментов, настройка окружения

2. **Автоматизация тестирования**: 24 часа
   - Написание тестов, настройка отчетности и интеграции с системами отчетов

3. **Тестирование и отладка**: 16 часов
   - Проведение тестов, исправление ошибок, оптимизация

4. **Подготовка отчетных документов**: 8 часов
   - Формирование отчетов и документации

5. **Неожиданные риски**: 8 часов
   - Дополнительное время для решения непредвиденных проблем

**Итоговая оценка времени**: 64 часа

## План сдачи работ

1. **План автоматизации и инструменты**:
   - Дата завершения: [06.09.2024, через 3 дня]

2. **Разработка и тестирование автотестов**:
   - Дата завершения: [20.09.2024, через 2 недели после завершения планирования]

3. **Результаты прогона тестов и подготовка отчетов**:
   - Дата завершения: [27.09.2024, через 1 неделю после завершения разработки]

4. **Финальная проверка и сдача проекта**:
   - Дата завершения: [01.10.2024, через 3 дня после подготовки отчетов]